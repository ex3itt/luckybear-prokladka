<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>LUCKYBEAR — Быстрый вход</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg-1:#05060a; --bg-2:#0b0d1a;
      --accent-1:#ff5ca1; --accent-2:#7afff2; --accent-3:#ffd166;
      --text:#e7eefc; --muted:rgba(231,238,252,0.75);
    }

    /* reset */
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%;width:100%}
    body{
      font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      background:linear-gradient(180deg,var(--bg-1),var(--bg-2));
      color:var(--text);
      display:flex;
      justify-content:center;
      align-items:center;
      min-height:100vh;
      margin:0;
      padding:0;
      overflow-y:auto;
    }

    /* decorative layers */
    .flux{ position:fixed; inset:-30%; z-index:0; pointer-events:none;
      background:conic-gradient(from 120deg at 50% 50%, rgba(127,255,212,0.06), rgba(255,90,160,0.05), rgba(200,150,255,0.06), rgba(255,220,120,0.03));
      filter:blur(80px); animation:flux-rotate 40s linear infinite; }
    @keyframes flux-rotate{ to{ transform:rotate(360deg) } }

    .band1,.band2{ position:fixed; z-index:0; pointer-events:none; filter:blur(60px); opacity:0.12; }
    .band1{ width:800px; height:400px; left:-200px; top:10%; background:radial-gradient(circle at 20% 30%, rgba(122,255,242,0.12), transparent); }
    .band2{ width:700px; height:360px; right:-160px; bottom:8%; background:radial-gradient(circle at 80% 70%, rgba(255,90,160,0.08), transparent); }

    /* main card / wrapper */
    .wrap{
      width:90vmin;
      max-width:980px;
      min-height:80vh;
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:26px;
      padding:24px;
      margin:24px;
      box-shadow:0 30px 90px rgba(0,0,0,0.65);
      position:relative;
      z-index:1;
      display:flex;
      flex-direction:column;
      align-items:center;
      animation:pop .6s cubic-bezier(.2,.9,.25,1);
      overflow:visible;
    }
    @keyframes pop{ from{ transform:scale(.985); opacity:0 } to{ transform:scale(1); opacity:1 } }

    /* logo (над заголовком) — опущен чуть ниже */
    .casino-logo-large{
      width:clamp(100px,14vw,180px);
      height:auto;
      border-radius:14px;
      overflow:hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      margin-top:36px;     /* <-- опущен ниже */
      margin-bottom:12px;
      transition:transform .28s ease;
    }
    .casino-logo-large img{ width:100%; height:auto; object-fit:contain; display:block; }

    /* title */
    .title-wrap{ text-align:center; margin-bottom:6px; padding:0 8px; }
    .h1{ font-family:Orbitron, Inter, sans-serif; font-size:clamp(18px,2.6vw,28px); margin-bottom:6px; color:var(--accent-3); }
    .desc{ color:var(--muted); font-size:clamp(12px,1.6vw,14px); max-width:760px; }

    /* instruction pill */
    .instr-banner{ margin:14px auto; padding:10px 18px; border-radius:999px; background:linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01)); backdrop-filter:blur(6px); box-shadow:0 12px 40px rgba(0,0,0,0.45); z-index:5; position:relative; }
    .instr-badge{ font-family:Orbitron,Inter; font-weight:900; letter-spacing:2px; font-size:16px; padding:6px 10px; border-radius:999px; background:linear-gradient(90deg,var(--accent-1),var(--accent-2),var(--accent-3)); -webkit-background-clip:text; background-clip:text; color:transparent; position:relative; display:inline-block; }

    /* video */
    .player{ width:100%; max-width:820px; aspect-ratio:16/9; border-radius:16px; overflow:hidden; background:#000; border:1px solid rgba(255,255,255,0.03); margin:18px 0; position:relative; display:flex; align-items:center; justify-content:center; box-shadow:0 10px 30px rgba(0,0,0,0.45); }
    .player video{ width:100%; height:100%; object-fit:cover; display:block; background:#000; }
    .video-fallback{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center; text-align:center; padding:12px; color:var(--muted); background:linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.6)); font-size:14px; }

    /* CTAs */
    .buttons{ display:flex; flex-direction:column; gap:12px; width:100%; max-width:420px; margin-top:8px; }
    .cta{ display:block; padding:14px; border-radius:12px; text-align:center; font-weight:900; font-size:17px; color:#07101a; text-decoration:none; cursor:pointer; position:relative; overflow:hidden; border:none; width:100%; box-sizing:border-box; }
    .cta-primary{ background:linear-gradient(90deg,var(--accent-2),var(--accent-1)); box-shadow:0 18px 50px rgba(122,52,255,0.12); color:#07101a; }
    .cta-ghost{ background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); color:var(--text); border:1px solid rgba(255,255,255,0.04); }

    .cta:before{ content:""; position:absolute; inset:0;border-radius:12px; background:linear-gradient(60deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02), rgba(255,255,255,0.06)); transform:translateX(-100%); opacity:0.6; mix-blend-mode:overlay; transition:transform 420ms; }
    .cta:hover:before{ transform:translateX(0%) }
    .cta:hover{ transform:translateY(-4px) scale(1.01); box-shadow:0 28px 60px rgba(122,52,255,0.18); }

    /* ripple */
    .ripple{ position:absolute; border-radius:50%; transform:translate(-50%,-50%); pointer-events:none; background:rgba(255,255,255,0.12); animation:ripple 600ms ease-out; }
    @keyframes ripple{ from{ opacity:0.8; transform:translate(-50%,-50%) scale(0.2) } to{ opacity:0; transform:translate(-50%,-50%) scale(2.5) } }

    /* badges */
    .badges{ display:flex; gap:8px; justify-content:center; margin-top:12px; flex-wrap:wrap; }
    .badge{ font-size:12px; padding:6px 8px; border-radius:10px; background:rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.03); color:var(--muted); }

    /* footer small */
    .foot{ margin-top:18px; font-size:12px; color:var(--muted); opacity:0.95; }

    /* access and keyboard */
    .cta[tabindex] { outline: none; }
    .cta:focus { box-shadow: 0 0 0 4px rgba(122,52,255,0.12); transform: translateY(-2px); }

    /* responsive: mobile full-width without side stripes */
    @media (max-width:820px){
      .wrap{
        width:100vw;               /* stretch to full viewport width */
        max-width:100vw;
        border-radius:0;          /* flat edges on mobile */
        margin:0;
        padding:18px calc(16px + env(safe-area-inset-left, 0px)) calc(18px + env(safe-area-inset-bottom, 0px)) calc(16px + env(safe-area-inset-right, 0px));
        box-shadow:none;
      }
      .casino-logo-large{ width:clamp(84px,22vw,140px); margin-top:22px; margin-bottom:10px; }
      .h1{ font-size:18px; }
      .instr-badge{ font-size:15px; padding:6px 12px; }
      .player{ border-radius:10px; max-width:100%; }
    }

    @media (max-width:480px){
      .casino-logo-large{ width:clamp(70px,26vw,120px); margin-top:18px; }
      .h1{ font-size:16px; }
      .cta{ font-size:15px; padding:12px; }
    }
  </style>
</head>
<body>
  <!-- decorative extras -->
  <div class="flux" aria-hidden="true"></div>
  <div class="band1" aria-hidden="true"></div>
  <div class="band2" aria-hidden="true"></div>

  <!-- entire page -->
  <main class="wrap" role="main" aria-label="LUCKYBEAR быстрый вход">
    <!-- logo above title (slightly lowered via margin-top) -->
    <div class="casino-logo-large" id="casinoLogoSlot" aria-hidden="false">
      <!-- place your local logo as logo.png (or set via JS setCasinoLogo) -->
      <img id="casinoLogoImg" src="logo.png" alt="LUCKYBEAR логотип" />
    </div>

    <div class="title-wrap" role="heading" aria-level="1">
      <div class="h1">LUCKYBEAR — Войти и играть</div>
      <div class="desc">Нажмите «Играть на сайте» — регистрация, бонус и игра!</div>
    </div>

    <div class="instr-banner" role="note" aria-label="Инструкция">
      <div class="instr-badge" aria-hidden="false">ИНСТРУКЦИЯ</div>
    </div>

    <section class="player" aria-label="Видео инструкция">
      <video id="promoVideo" poster="video/preview.jpg" muted playsinline preload="metadata" controls>
        <!-- IMPORTANT: video file must be at video/tutor.mp4 -->
        <source src="video/tutor.mp4" type="video/mp4" />
        Ваш браузер не поддерживает видео.
      </video>
      <div id="videoFallback" class="video-fallback" style="display:none">
        Видео не найдено. Положите <code>video/tutor.mp4</code> в папку <code>/video</code>.
      </div>
    </section>

    <nav class="buttons" aria-label="Действия">
      <a id="mainCTA" class="cta cta-primary" role="link" href="https://luckybear.xyz/7PM4rC" target="_blank" rel="noopener noreferrer" tabindex="0">Играть на сайте</a>
      <a id="tg1" class="cta cta-ghost" role="link" href="https://t.me/Lucky_Bear_Bars_Bot/app?startapp=bXN0PTB4NDllMDUxYjkmbT1BcnRlbWx1eCZjPXl0" target="_blank" rel="noopener noreferrer" tabindex="0">Играть в Telegram</a>
      <a id="tg2" class="cta cta-ghost" role="link" href="https://t.me/+oUFyhnMve1wzNGJi" target="_blank" rel="noopener noreferrer" tabindex="0">TG канал — акции и розыгрыши</a>
    </nav>

    <div class="badges" aria-hidden="true">
      <div class="badge">Быстрая регистрация</div>
      <div class="badge">Бонусы до 100%</div>
      <div class="badge">Поддержка 24/7</div>
    </div>

    <div class="foot" aria-hidden="true">© LuckyBear — Все права защищены</div>
  </main>

  <script>
    /* Ripple effect for CTAs */
    (function(){
      const buttons = document.querySelectorAll('.cta');
      buttons.forEach(btn=>{
        btn.addEventListener('click', function(e){
          const rect = btn.getBoundingClientRect();
          const ripple = document.createElement('span');
          ripple.className = 'ripple';
          const size = Math.max(rect.width, rect.height) * 1.2;
          ripple.style.width = size + 'px';
          ripple.style.height = size + 'px';
          const left = (e.clientX || rect.left + rect.width/2) - rect.left;
          const top = (e.clientY || rect.top + rect.height/2) - rect.top;
          ripple.style.left = left + 'px';
          ripple.style.top = top + 'px';
          btn.appendChild(ripple);
          setTimeout(()=> ripple.remove(), 700);
        }, {passive:true});
      });
    })();

    /* setCasinoLogo(url, alt) - replace logo dynamically */
    window.setCasinoLogo = function(url, alt){
      const img = document.getElementById('casinoLogoImg');
      if(!img) return;
      img.src = url;
      if(alt) img.alt = alt;
      img.onerror = ()=> console.warn('setCasinoLogo: failed to load', url);
    };

    /* Append ref param from page URL to CTAs (if present) */
    (function attachRefParam(){
      try{
        const sp = new URLSearchParams(window.location.search);
        if(!sp.has('ref')) return;
        const ref = sp.get('ref');
        ['mainCTA','tg1','tg2'].forEach(id=>{
          const el = document.getElementById(id);
          if(!el || !el.href) return;
          try{
            const u = new URL(el.href, window.location.href);
            if(!u.searchParams.has('ref')) u.searchParams.set('ref', ref);
            el.href = u.toString();
          } catch(e){ /* ignore */ }
        });
      } catch(e){ /* ignore */ }
    })();

    /* Video: pause on hidden, play on visible; show fallback on error */
    (function videoBehavior(){
      const vid = document.getElementById('promoVideo');
      const fallback = document.getElementById('videoFallback');
      if(!vid) return;

      // Pause when page hidden, try play when visible
      document.addEventListener('visibilitychange', ()=>{
        if(document.hidden){
          try{ vid.pause(); } catch(e){}
        } else {
          try{ const p = vid.play(); if(p && p.catch) p.catch(()=>{}); } catch(e){}
        }
      });

      // Fallback display if video errors
      vid.addEventListener('error', ()=>{ if(fallback) fallback.style.display = 'flex'; });
      vid.addEventListener('loadeddata', ()=>{ if(fallback) fallback.style.display = 'none'; });

      // Try to play on first gesture (mobile)
      let gestureInit = false;
      function tryPlay(){ if(gestureInit) return; gestureInit=true; vid.play().catch(()=>{}); window.removeEventListener('touchstart', tryPlay); window.removeEventListener('click', tryPlay); }
      window.addEventListener('touchstart', tryPlay, {passive:true});
      window.addEventListener('click', tryPlay, {passive:true});
    })();

    /* Keyboard accessibility: Enter / Space triggers anchor */
    (function keyboardSupport(){
      document.querySelectorAll('.cta').forEach(el=>{
        el.addEventListener('keydown', e=>{
          if(e.key === 'Enter' || e.key === ' '){
            e.preventDefault();
            el.click();
          }
        });
      });
    })();

    /* Mark page as loaded to trigger CSS entry animations */
    window.addEventListener('load', ()=> {
      document.querySelector('.wrap').classList.add('loaded');
    });

    /* Optional: expose a small helper to set title/text */
    window.setPageText = function({title, subtitle} = {}){
      if(title) {
        const h = document.querySelector('.h1') || document.querySelector('.title-wrap .h1');
        if(h) h.textContent = title;
      }
      if(subtitle){
        const d = document.querySelector('.desc');
        if(d) d.textContent = subtitle;
      }
    };
  </script>
</body>
</html>
